(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{4716:(e,o,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/google/callback",function(){return s(4047)}])},4047:(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>i});var l=s(4848),r=s(6540),a=s(6715),c=s(4335);let t=()=>{let e=(0,a.useRouter)();return(0,r.useEffect)(()=>{let o=async()=>{let{code:o}=e.query;if(!o){console.log("OAuth code is missing.");return}console.log("code:",o);try{console.log("code:",o);let s=await c.A.post("".concat("http://localhost:3001","/api/auth/google/callback"),{code:o},{withCredentials:!0});console.log("OAuth callback success:",s.data),e.push("/products")}catch(o){if(c.A.isAxiosError(o)){var s;console.error("OAuth callback Axios error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message)}else console.error("OAuth callback general error:",o);e.push("/login")}};e.isReady&&o()},[e.isReady,e.query]),(0,l.jsx)("div",{children:"Loading..."})},i=()=>(0,l.jsx)("div",{children:(0,l.jsx)(t,{})})}},e=>{var o=o=>e(e.s=o);e.O(0,[335,636,593,792],()=>o(4716)),_N_E=e.O()}]);